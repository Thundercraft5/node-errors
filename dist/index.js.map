{
  "version": 3,
  "sources": ["../src/utils/formatWordList.ts", "../src/utils/formatErrorMessage.ts", "../src/makeCodedError.ts", "../src/nativeMessages.ts", "../src/makeErrors.ts", "../src/nativeErrors.ts", "../src/symbols.ts", "../src/utils/isCodedErrorClass.ts", "../src/utils/isCodedError.ts"],
  "sourcesContent": ["export default function formatWordList(list: string[], and = false) {\r\n\tconst last = list.pop(),\r\n\t\tlastWord = and ? \"and\" : \"or\";\r\n\r\n\tif (list.length > 1) {\r\n\t\tconst commaSeparated = list.map((s, i) => `${ i % 5 == 0 && i ? \"\\n\" : \"\" }\"${ s }\"`);\r\n\r\n\t\treturn `${ commaSeparated.join(\", \") }, ${ lastWord } \"${ last }\"`;\r\n\t} else\r\n\t\treturn `${ list.length == 1 ? `\"${ list[0] }\" ${ lastWord } ` : \"\" }\"${ last }\"`;\r\n}", "import { RangeError, ReferenceError } from \"../nativeErrors\";\r\nimport { FormattableMessageParams, MessageFormatter, MessageKeys, MessageMap } from \"../types\";\r\n\r\nimport formatWordList from \"./formatWordList\";\r\n\r\nexport default function formatErrorMessage<\r\n\tM extends MessageMap,\r\n\tCode extends MessageKeys<M>,\r\n>(messages: M, code: Code, ...formats: FormattableMessageParams<M, Code>) {\r\n\tif (!(code in messages))\r\n\t\tthrow new ReferenceError(\"INVALID_MESSAGE_CODE\", code, formatWordList(Object.keys(messages)));\r\n\r\n\tconst message = typeof messages[code] === \"function\"\r\n\t\t// eslint-disable-next-line\r\n\t\t? (messages[code] as MessageFormatter)(...formats)\r\n\t\t: messages[code];\r\n\r\n\tif (typeof messages[code] === \"function\" && messages[code].length > formats.length)\r\n\t\tthrow new RangeError(\"MESSAGE_CODE_MISSING_FORMATS\", code, messages[code].length, formats.length);\r\n\r\n\treturn message as string;\r\n}", "import { TypeError } from \"./nativeErrors\";\r\nimport { FormattableMessageParams, MessageKeys, MessageMap } from \"./types\";\r\nimport { SymbolCode, SymbolCodedError, SymbolCodedErrorClass, SymbolRawMessage } from \"./symbols\";\r\n\r\nimport formatErrorMessage from \"./utils/formatErrorMessage\";\r\n\r\nexport default function makeCodedError<\r\n\tM extends MessageMap,\r\n\tT extends typeof global.Error\r\n>(messages: M, Base: T) {\r\n\t// if (SymbolCodedErrorClass in Base) throw new TypeError(\"ERROR_CLASS_ALREADY_EXTENDED\", Base);\r\n\tif (\"$$<Symbol>codedError\" in Base) throw new TypeError(\"ERROR_CLASS_ALREADY_EXTENDED\", Base);\r\n\r\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n\t// @ts-ignore - Bug\r\n\treturn class <Code extends MessageKeys<M>> extends Base {\r\n\t\t// static get [SymbolCodedErrorClass]() { return true; }\r\n\t\tstatic get [\"$$<Symbol>codedErrorClass\"]() { return true; }\r\n\t\tstatic [Symbol.hasInstance](instance: any) {\r\n\t\t\treturn instance[Symbol.species] instanceof Base;\r\n\t\t}\r\n\r\n\t\tstatic {\r\n\t\t\tObject.defineProperty(this, \"name\", { value: Base.name });\r\n\t\t}\r\n\r\n\t\t#message = \"\";\r\n\t\t/*\r\n\t\t * readonly [SymbolCodedError]: true;\r\n\t\t * readonly [SymbolCode]: string;\r\n\t\t * readonly [SymbolRawMessage]: string;\r\n\t\t */\r\n\t\treadonly [\"$$<Symbol>codedError\"]: true;\r\n\t\treadonly [\"$$<Symbol>code\"]: string;\r\n\t\treadonly [\"$$<Symbol>rawMessage\"]: string;\r\n\r\n\t\tconstructor(code: Code, ...formats: FormattableMessageParams<M, Code>) {\r\n\t\t\tsuper(formatErrorMessage(messages, code, ...formats));\r\n\r\n\t\t\tif (typeof messages[code] !== \"string\")\r\n\t\t\t\t// this[SymbolRawMessage] = messages[code]?.toString() ?? null;\r\n\t\t\t\tthis[\"$$<Symbol>rawMessage\"] = messages[code]?.toString() ?? null;\r\n\r\n\t\t\tthis[\"$$<Symbol>code\"] = code.toLocaleUpperCase();\r\n\t\t\t// Object.defineProperty(this, SymbolCodedError, { value: true });\r\n\t\t\tObject.defineProperty(this, \"$$<Symbol>codedError\", { value: true });\r\n\t\t}\r\n\r\n\t\tget name() {\r\n\t\t\treturn `${ this.getErrorName() }${ this[\"$$<Symbol>code\"] ? ` [${ this[\"$$<Symbol>code\"] }]` : \"\" }`;\r\n\t\t}\r\n\r\n\t\tget message() {\r\n\t\t\treturn !this.#message ? \"\" : this.#message;\r\n\t\t}\r\n\r\n\t\tset message(value) {\r\n\t\t\tthis.#message = value;\r\n\t\t}\r\n\r\n\t\tget [Symbol.species]() { return Base; }\r\n\r\n\t\tget [Symbol.toStringTag]() {\r\n\t\t\treturn this.getErrorName();\r\n\t\t}\r\n\r\n\t\tgetErrorName() {\r\n\t\t\tconst names = [];\r\n\t\t\tlet cur = this.constructor;\r\n\r\n\t\t\twhile (cur) {\r\n\t\t\t\tnames.push(cur.name);\r\n\t\t\t\tcur = Object.getPrototypeOf(cur);\r\n\t\t\t}\r\n\r\n\t\t\treturn names.find(name => name != \"CodedError\");\r\n\t\t}\r\n\t};\r\n}", "const messages = {\r\n\tERROR_CLASS_ALREADY_EXTENDED: (Class: typeof Error) => `Error class \"${ Class.name }\" is already a coded error class.`,\r\n\tINVALID_MESSAGE_CODE: (code = \"\", validCodes = \"\") => `Error code \"${ code }\" was not found in the provided messages registry.\\nList of valid codes: ${ validCodes }`,\r\n\tMESSAGE_CODE_MISSING_FORMATS: (code = \"\", required = 0, received = 0) => `Message code \"${ code }\" expects at least ${ required } format arguments, got ${ received } instead`,\r\n\tMETHOD_NOT_IMPLEMENTED: (Class: Function, name = \"\") => `Method ${ Class.name }#${ name }() is not implemented.`,\r\n};\r\n\r\nexport default messages;", "import makeCodedError from \"./makeCodedError\";\r\nimport { MessageMap } from './types';\r\nimport nativeMessages from \"./nativeMessages\";\r\nimport type { SymbolCode, SymbolCodedError, SymbolCodedErrorClass, SymbolRawMessage } from \"./symbols\";\r\n\r\nexport type ErrorsDescriptor = {\r\n\t[key: string]: ErrorConstructor;\r\n};\r\n\r\nexport type ErrorMap<M extends MessageMap, E extends ErrorsDescriptor> = {\r\n\t[key in keyof E]?: ReturnType<typeof makeCodedError<M, E[key]>>;\r\n}\r\n\r\nexport default function makeErrors<\r\n\tM extends MessageMap,\r\n\tE extends ErrorsDescriptor,\r\n>(messages: M, errors: E, includeNativeCodes: true): Required<ErrorMap<M & typeof nativeMessages, E>>;\r\n\r\nexport default function makeErrors<\r\n\tM extends MessageMap,\r\n\tE extends ErrorsDescriptor,\r\n>(messages: M, errors: E): Required<ErrorMap<M, E>>;\r\n\r\nexport default function makeErrors<\r\n\tM extends MessageMap,\r\n\tE extends ErrorsDescriptor,\r\n>(messages: M, errors: E, includeNativeCodes = true) {\r\n\tif (includeNativeCodes) messages = { ...messages, ...nativeMessages }\r\n\r\n\tconst ret: ErrorMap<M | M & typeof nativeMessages, E> = {};\r\n\tconst entries = Object.entries(errors);\r\n\r\n\tfor (const [k, error] of entries) {\r\n\t\t// @ts-ignore\r\n\t\tret[k] = makeCodedError(messages, error);\r\n\t}\r\n\r\n\treturn ret as Required<ErrorMap<M | M & typeof nativeMessages, E>>;\r\n}", "import makeErrors from \"./makeErrors\";\r\nimport messages from \"./nativeMessages\";\r\n\r\nimport type { SymbolCode, SymbolCodedError, SymbolCodedErrorClass, SymbolRawMessage } from \"./symbols\";\r\n\r\nexport const\r\n\t{\r\n\t\tTypeError,\r\n\t\tRangeError,\r\n\t\tReferenceError,\r\n\t\tError,\r\n\t} = makeErrors(messages, {\r\n\t\tTypeError: globalThis.TypeError,\r\n\t\tRangeError: globalThis.RangeError,\r\n\t\tReferenceError: globalThis.ReferenceError,\r\n\t\tError: globalThis.Error,\r\n\t});", "\r\nexport const\r\n\tSymbolCodedErrorClass = Symbol(\"codedErrorClass\"),\r\n\tSymbolCodedError = Symbol(\"codedError\"),\r\n\tSymbolCode = Symbol(\"code\"),\r\n\tSymbolRawMessage = Symbol(\"rawMessage\");", "import { SymbolCodedErrorClass } from \"../symbols\";\r\n\r\nexport default function isCodedErrorClass(ErrorClass: typeof Error) {\r\n\t// return SymbolCodedErrorClass in ErrorClass;\r\n\treturn \"$$<Symbol>codedErrorClass\" in ErrorClass;\r\n}", "import { SymbolCode } from \"../symbols\";\r\n\r\nexport default function isCodedError(errorObject: Error) {\r\n\t// return SymbolCode in errorObject;\r\n\treturn \"$$<Symbol>code\" in errorObject;\r\n}"],
  "mappings": "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",
  "names": []
}
